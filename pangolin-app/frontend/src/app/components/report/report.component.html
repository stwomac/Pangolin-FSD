@if (report) {
  <mat-card class="example-card" appearance="outlined">
    <mat-card-header>
      <mat-card-title>{{ report.reportType }}</mat-card-title>
    </mat-card-header>
    <div></div>
    <mat-card-content>
      <h3>Description</h3>

      <app-report-description-editor [visible]="updateMode" [report]="bufferReport"> </app-report-description-editor>
      <p *ngIf="!updateMode">{{ report.description }}</p>


      <div class="annotation-container">

        <h3>Annotations</h3>
        <div class="annotation-list-container" *ngIf="!updateMode">
        @for (annotation of report.annotations; track annotation) {
          <p>{{ annotation.annotation }}</p>
        } @empty {
          <p>none</p>
        }
      </div>
      </div>

      <div class="annotation-editor">
        <app-annotation-selector
          [visible]="updateMode"
          [report]="bufferReport"
        />
      </div>
    </mat-card-content>
    <div>
      <mat-card-footer class="example-card-footer">
        <mat-chip-set aria-label="Chihuahua traits">
          @if (report.paid) {
            <mat-chip>Paid</mat-chip>
          }
          @if (report.isDone) {
            <mat-chip>Completed</mat-chip>
          }
          @if (report.isSus) {
            <mat-chip>Suspicious</mat-chip>
          }
        </mat-chip-set>


        <div *ngIf="!updateMode" class="btn-primary">
          <button (click)="toggleEditMode()">Edit</button><button>Delete</button>
        </div>

        <div *ngIf="updateMode" class="btn-edit">
          <button (click)="save()">Save</button><button (click)="cancel()">Cancel</button>
        </div>

      </mat-card-footer>
    </div>
  </mat-card>
}